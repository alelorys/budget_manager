<!DOCTYPE html>
    <html lang="pl">
    <head>
      <meta charset="UTF-8" />
      <title>Zarządzanie budżetem</title>
      <link rel="stylesheet" href="/static/style.css" />
      <!-- Font Awesome Cdn Link -->
      <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" />
    </head>
    <body>
      
      <header class="header">
        <div class="logo">
          <a href="#">Budżet</a>
        </div>
    
        <div class="header-icons">
          <i class="fas fa-bell"></i>
          <div class="account">
            <h4><a href="/profile/page">{{ login }}</a></h4>
          </div>
        </div>
      </header>
      <div class="container">
        <nav>
          <div class="side_navbar">
            <span>Menu</span>
            <a href="/services/list">Historia</a>
            <a href="/analysis">Analiza</a>
            <a href="/operations/form">Operacje</a>
            <a href="/files">Pliki</a>
            <a href="/budget/page">Budżet</a>
            <a href="/categories/list">Kategorie</a>
    
            
          </div>
        </nav>
    
        <div class="main-body">
          <h2>Dashboard</h2>
          <div class="promo_card">
            <h1>Zarządzaj swoim budżetem</h1>
            <span>Łatwo, przejrzyście</span>
            <button>Dowiedz sie więcej</button>
          </div>
          <hr>
          <div class="buttons">
            
            <div class="pages">
              <i class="bx bx-list-plus"></i>
              <a href="/services/list">Historia</a>

            </div>
            <div class="pages">
              <i class="bx bx-analyse"></i>
              <a href="/services/list">Analiza</a>

            </div>
            <div class="pages">
              <i class="bx bx-plus-circle"></i>
              <a href="/operations/form">Operacje</a>

            </div>
            <div class="pages">
              <i class="bx bxs-shopping-bag"></i>
              <a href="/budget/page">Budżet</a>

            </div>
            <div class="pages">
              <i class="bx bx-list-plus"></i>
              <a href="/categories/list">Kategorie operacji</a>

            </div>
          </div>
        </div>
    
        <div class="sidebar">
          <h4>Podsumowanie</h4>
          <div class="balance">
            <i class="bx bx-coin-stack icon"></i>
            <div class="info">
              <h5>Wpływy</h5>
              <span>{{ 0.00 or result }} zł</span>
            </div>
          </div>
          <div class="balance">
            <i class="bx bxs-coin-stack icon"></i>
            <div class="info">
              <h5>Wydatki</h5>
              <span>3650 zł</span>
            </div>
          </div>
          <div class="balance">
            <i class='bx bx-coin icon' ></i>
            <div class="info">
              <h5>Saldo</h5>
              <span>150 zł</span>
            </div>
          </div>
    
        </div>
      </div>
      <script>
        document.addEventListener('DOMContentLoaded', function(){
          const token = "{{ token }}";
          console.log("Token: ", token);

          async function getData(){
            if (!token) {
              console.error("No token found");
              return;
            }
            
            const response = await fetch('http://127.0.0.1:2345/services/list',{
              method: "GET",
              headers:{
                'Authorization': `Bearer ${token}`,
              },
            });

            console.log('Response:',response);
            if (response.ok){
              const data = await response.json();
              console.log("Pobrane dane:",data);
            } else {
              console.error("Coś poszło nie tak", await response.json());
            }
          }
        })
      </script>
      <!--<script>
        fetch('http://127.0.0.1:2345/services/list')
        .then(response =>{
          if(!response.ok){
            throw new Error('Błąd połączenia');
          }
          return response.json();
        })
        .then(data => {
          console.log(data);
        })
        .catch(error => {
          console.error('Wystąpił błąd:',error);
        });
      </script>-->
    </body>
    </html>
